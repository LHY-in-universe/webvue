<template>
  <div class="theme-demo-page">
    <!-- é¡µé¢æ ‡é¢˜ -->
    <div class="demo-header">
      <div class="container mx-auto px-4 py-16">
        <Transition name="title" appear>
          <h1 class="text-4xl font-bold text-center mb-4">
            ç°ä»£ä¸»é¢˜åˆ‡æ¢
          </h1>
        </Transition>
        
        <Transition name="subtitle" appear>
          <p class="text-xl text-center text-gray-600 dark:text-gray-400 mb-8">
            ç®€æ´ã€ç°ä»£ã€æµç•…çš„ä¸»é¢˜åˆ‡æ¢ä½“éªŒ
          </p>
        </Transition>
      </div>
    </div>

    <!-- ä¸»è¦æ¼”ç¤ºåŒºåŸŸ -->
    <div class="demo-section">
      <div class="container mx-auto px-4 py-16">
        <div class="max-w-6xl mx-auto">
          <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
            
            <!-- å°å°ºå¯¸å¼€å…³å¡ç‰‡ -->
            <Card variant="elevated" :hoverable="true">
              <template #header>
                <h3 class="text-lg font-semibold">å°å°ºå¯¸å¼€å…³</h3>
              </template>
              
              <div class="text-center py-8">
                <p class="text-gray-600 dark:text-gray-400 mb-6">é€‚åˆå¯¼èˆªæ å’Œç´§å‡‘ç©ºé—´</p>
                <SimpleThemeToggle size="sm" />
              </div>
              
              <template #footer>
                <div class="flex flex-wrap gap-2">
                  <span class="px-2 py-1 bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 text-xs rounded-full">
                    ç´§å‡‘è®¾è®¡
                  </span>
                  <span class="px-2 py-1 bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200 text-xs rounded-full">
                    å¯¼èˆªæ é€‚ç”¨
                  </span>
                </div>
              </template>
            </Card>

            <!-- æ ‡å‡†å¼€å…³å¡ç‰‡ -->
            <Card variant="elevated" :hoverable="true">
              <template #header>
                <h3 class="text-lg font-semibold">æ ‡å‡†å¼€å…³</h3>
              </template>
              
              <div class="text-center py-8">
                <p class="text-gray-600 dark:text-gray-400 mb-6">é»˜è®¤å°ºå¯¸ï¼Œé€‚åˆå¤§éƒ¨åˆ†åœºæ™¯</p>
                <SimpleThemeToggle size="md" :show-label="true" />
              </div>
              
              <template #footer>
                <div class="flex flex-wrap gap-2">
                  <span class="px-2 py-1 bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 text-xs rounded-full">
                    æ ‡å‡†å°ºå¯¸
                  </span>
                  <span class="px-2 py-1 bg-purple-100 dark:bg-purple-900 text-purple-800 dark:text-purple-200 text-xs rounded-full">
                    å¸¦æ ‡ç­¾
                  </span>
                </div>
              </template>
            </Card>

            <!-- å¤§å°ºå¯¸å¼€å…³å¡ç‰‡ -->
            <Card variant="elevated" :hoverable="true">
              <template #header>
                <h3 class="text-lg font-semibold">å¤§å°ºå¯¸å¼€å…³</h3>
              </template>
              
              <div class="text-center py-8">
                <p class="text-gray-600 dark:text-gray-400 mb-6">é€‚åˆé‡ç‚¹å±•ç¤ºåŒºåŸŸ</p>
                <SimpleThemeToggle size="lg" :show-label="true" />
              </div>
              
              <template #footer>
                <div class="flex flex-wrap gap-2">
                  <span class="px-2 py-1 bg-orange-100 dark:bg-orange-900 text-orange-800 dark:text-orange-200 text-xs rounded-full">
                    å¤§å°ºå¯¸
                  </span>
                  <span class="px-2 py-1 bg-red-100 dark:bg-red-900 text-red-800 dark:text-red-200 text-xs rounded-full">
                    é‡ç‚¹å±•ç¤º
                  </span>
                </div>
              </template>
            </Card>

          </div>
        </div>
      </div>
    </div>

    <!-- é«˜çº§åŠ¨ç”»æ•ˆæœè¯•éªŒåŒº -->
    <div class="demo-section bg-gradient-to-br from-purple-50 to-pink-50 dark:from-purple-900/20 dark:to-pink-900/20">
      <div class="container mx-auto px-4 py-16">
        <h2 class="text-3xl font-semibold text-center mb-4">
          ğŸ¨ é«˜çº§åŠ¨ç”»æ•ˆæœè¯•éªŒåŒº
        </h2>
        <p class="text-center text-gray-600 dark:text-gray-400 mb-12">
          ä½“éªŒå„ç§ç‚«é…·çš„ä¸»é¢˜åˆ‡æ¢åŠ¨ç”»æ•ˆæœ
        </p>

        <div class="max-w-6xl mx-auto grid grid-cols-1 lg:grid-cols-2 gap-8">
          
          <!-- æ¶Ÿæ¼ªæ•ˆæœ -->
          <Card variant="elevated" :hoverable="true">
            <template #header>
              <div class="flex items-center gap-3">
                <div class="w-8 h-8 bg-blue-100 dark:bg-blue-900 rounded-lg flex items-center justify-center">
                  ğŸŒŠ
                </div>
                <h3 class="text-xl font-semibold">æ¶Ÿæ¼ªæ‰©æ•£æ•ˆæœ</h3>
              </div>
            </template>
            
            <div class="space-y-4">
              <p class="text-gray-600 dark:text-gray-400">ä»ç‚¹å‡»ä½ç½®å‘å¤–æ‰©æ•£çš„åœ†å½¢æ¶Ÿæ¼ªåŠ¨ç”»</p>
              <div class="text-center py-8">
                <button 
                  @click="triggerRippleTransition"
                  ref="rippleButton"
                  class="px-8 py-4 bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white font-semibold rounded-xl shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-700"
                >
                  ğŸŒŠ æ¶Ÿæ¼ªåˆ‡æ¢ä¸»é¢˜
                </button>
              </div>
            </div>
            
            <template #footer>
              <div class="text-sm text-gray-500 dark:text-gray-400">
                ç‚¹å‡»æŒ‰é’®ä½“éªŒä»ç‚¹å‡»ä½ç½®æ‰©æ•£çš„æ¶Ÿæ¼ªåŠ¨ç”»
              </div>
            </template>
          </Card>

          <!-- ç²’å­æ•ˆæœ -->
          <Card variant="elevated" :hoverable="true">
            <template #header>
              <div class="flex items-center gap-3">
                <div class="w-8 h-8 bg-yellow-100 dark:bg-yellow-900 rounded-lg flex items-center justify-center">
                  âœ¨
                </div>
                <h3 class="text-xl font-semibold">ç²’å­çˆ†ç‚¸æ•ˆæœ</h3>
              </div>
            </template>
            
            <div class="space-y-4">
              <p class="text-gray-600 dark:text-gray-400">éšæœºç²’å­çš„æ—‹è½¬ç¼©æ”¾çˆ†ç‚¸åŠ¨ç”»</p>
              <div class="text-center py-8">
                <button 
                  @click="triggerParticleTransition"
                  class="px-8 py-4 bg-gradient-to-r from-yellow-500 to-orange-600 hover:from-yellow-600 hover:to-orange-700 text-white font-semibold rounded-xl shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-700"
                >
                  âœ¨ ç²’å­åˆ‡æ¢ä¸»é¢˜
                </button>
              </div>
            </div>
            
            <template #footer>
              <div class="text-sm text-gray-500 dark:text-gray-400">
                20ä¸ªéšæœºå‘å…‰ç²’å­çš„åä¸½åŠ¨ç”»æ•ˆæœ
              </div>
            </template>
          </Card>

          <!-- é¢œè‰²æ³¢æµªæ•ˆæœ -->
          <Card variant="elevated" :hoverable="true">
            <template #header>
              <div class="flex items-center gap-3">
                <div class="w-8 h-8 bg-green-100 dark:bg-green-900 rounded-lg flex items-center justify-center">
                  ğŸŒˆ
                </div>
                <h3 class="text-xl font-semibold">é¢œè‰²æ³¢æµªæ•ˆæœ</h3>
              </div>
            </template>
            
            <div class="space-y-4">
              <p class="text-gray-600 dark:text-gray-400">å¹³æ»‘çš„é¢œè‰²æ³¢çº¹ä»å·¦åˆ°å³æ‰«è¿‡å±å¹•</p>
              <div class="text-center py-8 space-y-4">
                <button 
                  @click="triggerColorWave('horizontal')"
                  class="block w-full px-8 py-3 bg-gradient-to-r from-green-500 to-teal-600 hover:from-green-600 hover:to-teal-700 text-white font-semibold rounded-xl shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-700"
                >
                  ğŸŒˆ æ¨ªå‘æ³¢æµª
                </button>
                <button 
                  @click="triggerColorWave('vertical')"
                  class="block w-full px-8 py-3 bg-gradient-to-r from-teal-500 to-cyan-600 hover:from-teal-600 hover:to-cyan-700 text-white font-semibold rounded-xl shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-700"
                >
                  ğŸŒˆ çºµå‘æ³¢æµª
                </button>
              </div>
            </div>
            
            <template #footer>
              <div class="text-sm text-gray-500 dark:text-gray-400">
                é€‰æ‹©æ¨ªå‘æˆ–çºµå‘çš„é¢œè‰²æ³¢æµªåŠ¨ç”»
              </div>
            </template>
          </Card>

          <!-- View Transition API æ•ˆæœ -->
          <Card variant="elevated" :hoverable="true">
            <template #header>
              <div class="flex items-center gap-3">
                <div class="w-8 h-8 bg-indigo-100 dark:bg-indigo-900 rounded-lg flex items-center justify-center">
                  ğŸŒŸ
                </div>
                <h3 class="text-xl font-semibold">View Transition API</h3>
              </div>
            </template>
            
            <div class="space-y-4">
              <p class="text-gray-600 dark:text-gray-400">ç°ä»£æµè§ˆå™¨åŸç”Ÿæ”¯æŒçš„åœ†å½¢æ‰©æ•£åˆ‡æ¢</p>
              <div class="text-center py-8">
                <SimpleThemeToggle 
                  :show-label="true" 
                  size="md"
                />
              </div>
              <div class="text-xs text-gray-500 dark:text-gray-400 text-center">
                <span class="inline-flex items-center gap-1">
                  <span class="w-2 h-2 bg-green-500 rounded-full"></span>
                  æ”¯æŒ Chrome 111+, Firefox 118+
                </span>
              </div>
            </div>
            
            <template #footer>
              <div class="text-sm text-gray-500 dark:text-gray-400">
                ç‚¹å‡»ä½ç½®å“åº”çš„åŸç”Ÿæµè§ˆå™¨åŠ¨ç”»ï¼Œè‡ªåŠ¨é™çº§å…¼å®¹
              </div>
            </template>
          </Card>

          <!-- ç»„åˆåŠ¨ç”»æ•ˆæœ -->
          <Card variant="elevated" :hoverable="true">
            <template #header>
              <div class="flex items-center gap-3">
                <div class="w-8 h-8 bg-purple-100 dark:bg-purple-900 rounded-lg flex items-center justify-center">
                  ğŸ†
                </div>
                <h3 class="text-xl font-semibold">ç»ˆæç»„åˆæ•ˆæœ</h3>
              </div>
            </template>
            
            <div class="space-y-4">
              <p class="text-gray-600 dark:text-gray-400">æ‰€æœ‰åŠ¨ç”»æ•ˆæœçš„å®Œç¾ç»„åˆ</p>
              <div class="text-center py-8">
                <button 
                  @click="triggerUltimateTransition"
                  ref="ultimateButton"
                  class="px-8 py-4 bg-gradient-to-r from-purple-500 via-pink-500 to-red-500 hover:from-purple-600 hover:via-pink-600 hover:to-red-600 text-white font-bold rounded-xl shadow-lg hover:shadow-xl transform hover:scale-110 transition-all duration-700 animate-pulse"
                >
                  ğŸ† ç»ˆæåŠ¨ç”»åˆ‡æ¢
                </button>
              </div>
            </div>
            
            <template #footer>
              <div class="text-sm text-gray-500 dark:text-gray-400">
                æ¶Ÿæ¼ª + ç²’å­ + æ³¢æµªçš„åä¸½ç»„åˆæ•ˆæœ
              </div>
            </template>
          </Card>

        </div>
      </div>
    </div>

    <!-- ä½¿ç”¨åœºæ™¯æ¼”ç¤º -->
    <div class="demo-section bg-gray-50 dark:bg-gray-900">
      <div class="container mx-auto px-4 py-16">
        <h2 class="text-3xl font-semibold text-center mb-12">
          ä½¿ç”¨åœºæ™¯æ¼”ç¤º
        </h2>

        <div class="max-w-6xl mx-auto grid grid-cols-1 lg:grid-cols-2 gap-8">
          
          <!-- å¯¼èˆªæ åœºæ™¯ -->
          <Card variant="elevated" :hoverable="true">
            <template #header>
              <h3 class="text-xl font-semibold">å¯¼èˆªæ åº”ç”¨</h3>
            </template>
            
            <div class="space-y-4">
              <p class="text-gray-600 dark:text-gray-400">åœ¨å¯¼èˆªæ ä¸­ä½¿ç”¨å°å°ºå¯¸å¼€å…³</p>
              <div class="mock-navbar">
                <div class="navbar-brand">
                  <h4 class="text-lg font-bold">æˆ‘çš„åº”ç”¨</h4>
                </div>
                <div class="navbar-controls">
                  <span class="text-sm text-gray-600 dark:text-gray-400 mr-4">åˆ‡æ¢ä¸»é¢˜</span>
                  <SimpleThemeToggle size="sm" />
                </div>
              </div>
            </div>
            
            <template #footer>
              <div class="text-sm text-gray-500 dark:text-gray-400">
                é€‚åˆï¼šé¡¶éƒ¨å¯¼èˆªæ ã€å·¥å…·æ ã€ç´§å‡‘ç©ºé—´
              </div>
            </template>
          </Card>

          <!-- è®¾ç½®é¡µé¢åœºæ™¯ -->
          <Card variant="elevated" :hoverable="true">
            <template #header>
              <h3 class="text-xl font-semibold">è®¾ç½®é¡µé¢åº”ç”¨</h3>
            </template>
            
            <div class="space-y-4">
              <p class="text-gray-600 dark:text-gray-400">åœ¨è®¾ç½®é¡µé¢ä¸­ä½¿ç”¨å¸¦æ ‡ç­¾çš„æ ‡å‡†å¼€å…³</p>
              <div class="mock-settings">
                <div class="setting-item">
                  <div class="setting-info">
                    <h4 class="font-medium text-gray-900 dark:text-white">å¤–è§‚æ¨¡å¼</h4>
                    <p class="text-sm text-gray-600 dark:text-gray-400">é€‰æ‹©æµ…è‰²æˆ–æ·±è‰²ä¸»é¢˜</p>
                  </div>
                  <SimpleThemeToggle size="md" :show-label="true" />
                </div>
              </div>
            </div>
            
            <template #footer>
              <div class="text-sm text-gray-500 dark:text-gray-400">
                é€‚åˆï¼šè®¾ç½®é¡µé¢ã€åå¥½è®¾ç½®ã€é…ç½®é€‰é¡¹
              </div>
            </template>
          </Card>

          <!-- é‡ç‚¹å±•ç¤ºåœºæ™¯ -->
          <div class="lg:col-span-2">
            <Card variant="elevated" :hoverable="true">
              <template #header>
                <h3 class="text-xl font-semibold">é‡ç‚¹å±•ç¤ºåŒºåŸŸ</h3>
              </template>
              
              <div class="mock-highlight">
                <div class="text-center py-8">
                  <h4 class="text-2xl font-bold mb-4">ä¸ªæ€§åŒ–ä½“éªŒ</h4>
                  <p class="text-gray-600 dark:text-gray-400 mb-8">æ ¹æ®æ‚¨çš„åå¥½é€‰æ‹©ä¸»é¢˜æ¨¡å¼</p>
                  <SimpleThemeToggle size="lg" :show-label="true" />
                </div>
              </div>
              
              <template #footer>
                <div class="text-sm text-gray-500 dark:text-gray-400">
                  é€‚åˆï¼šé¦–é¡µæ¨ªå¹…ã€åŠŸèƒ½ä»‹ç»ã€é‡è¦è®¾ç½®é¡¹ç›®
                </div>
              </template>
            </Card>
          </div>
          
        </div>
      </div>
    </div>

    <!-- ç‰¹æ€§è¯´æ˜ -->
    <div class="demo-section">
      <div class="container mx-auto px-4 py-16">
        <h2 class="text-3xl font-semibold text-center mb-12">
          ä¸»è¦ç‰¹æ€§
        </h2>
        
        <div class="max-w-4xl mx-auto grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
          <div class="feature-card">
            <div class="feature-icon">ğŸ¯</div>
            <h3 class="feature-title">ç®€æ´è®¾è®¡</h3>
            <p class="feature-description">ç°ä»£åŒ–çš„æ»‘åŠ¨å¼€å…³è®¾è®¡ï¼Œç®€æ´ä¼˜é›…</p>
          </div>
          
          <div class="feature-card">
            <div class="feature-icon">âš¡</div>
            <h3 class="feature-title">æµç•…åŠ¨ç”»</h3>
            <p class="feature-description">60fps æµç•…åŠ¨ç”»ï¼ŒGPU åŠ é€Ÿä¼˜åŒ–</p>
          </div>
          
          <div class="feature-card">
            <div class="feature-icon">ğŸ¨</div>
            <h3 class="feature-title">å…¨å±€è¿‡æ¸¡</h3>
            <p class="feature-description">æ•´ä¸ªé¡µé¢çš„é¢œè‰²åŒæ­¥å¹³æ»‘åˆ‡æ¢</p>
          </div>
          
          <div class="feature-card">
            <div class="feature-icon">ğŸŒŸ</div>
            <h3 class="feature-title">View Transition API</h3>
            <p class="feature-description">åŸç”Ÿæµè§ˆå™¨æ”¯æŒçš„åœ†å½¢æ‰©æ•£åŠ¨ç”»</p>
          </div>
          
          <div class="feature-card">
            <div class="feature-icon">ğŸ“±</div>
            <h3 class="feature-title">å¤šå°ºå¯¸æ”¯æŒ</h3>
            <p class="feature-description">å°ã€ä¸­ã€å¤§ä¸‰ç§å°ºå¯¸ï¼Œé€‚é…ä¸åŒåœºæ™¯</p>
          </div>
          
          <div class="feature-card">
            <div class="feature-icon">â™¿</div>
            <h3 class="feature-title">æ— éšœç¢å‹å¥½</h3>
            <p class="feature-description">æ”¯æŒé”®ç›˜æ“ä½œå’Œå±å¹•é˜…è¯»å™¨</p>
          </div>
          
          <div class="feature-card">
            <div class="feature-icon">âš™ï¸</div>
            <h3 class="feature-title">å‡å°‘åŠ¨æ•ˆ</h3>
            <p class="feature-description">è‡ªåŠ¨é€‚é…ç”¨æˆ·çš„ç³»ç»Ÿåå¥½è®¾ç½®</p>
          </div>
          
          <div class="feature-card">
            <div class="feature-icon">ğŸ›¡ï¸</div>
            <h3 class="feature-title">å…¼å®¹é™çº§</h3>
            <p class="feature-description">ä¼˜é›…é™çº§ï¼Œç¡®ä¿æ‰€æœ‰æµè§ˆå™¨å¯ç”¨</p>
          </div>
          
          <div class="feature-card">
            <div class="feature-icon">ğŸª</div>
            <h3 class="feature-title">åä¸½ç»„åˆ</h3>
            <p class="feature-description">å¤šç§åŠ¨ç”»æ•ˆæœçš„å®Œç¾ç»„åˆå±•ç¤º</p>
          </div>
        </div>
      </div>
    </div>
  </div>
</template>

<script setup>
import { ref, onMounted, nextTick } from 'vue'
import { useThemeStore } from '@/stores/theme'
import { useThemeTransition } from '@/composables/useThemeTransition'
import SimpleThemeToggle from '@/components/ui/SimpleThemeToggle.vue'
import Card from '@/components/ui/Card.vue'

const themeStore = useThemeStore()

// å¼•ç”¨æŒ‰é’®å…ƒç´ 
const rippleButton = ref(null)
const ultimateButton = ref(null)

// ä½¿ç”¨é«˜çº§ä¸»é¢˜è¿‡æ¸¡åŠŸèƒ½ - å»¶é•¿åŠ¨ç”»æ—¶é—´
const {
  transitionTheme,
  createRipple,
  createParticles,
  createColorWave,
  isTransitioning
} = useThemeTransition({
  duration: 1200,  // å¢åŠ åˆ° 1200ms ä¸ºæ›´æµç•…çš„åŠ¨ç”»
  enableRipple: true,
  enableParticles: true,
  enableColorInterpolation: true
})

// æ¶Ÿæ¼ªæ•ˆæœåˆ‡æ¢
const triggerRippleTransition = async () => {
  if (isTransitioning.value) return
  
  console.log('ğŸŒŠ è§¦å‘æ¶Ÿæ¼ªæ•ˆæœ')
  
  // ä½¿ç”¨æ¶Ÿæ¼ªåŠ¨ç”»åˆ‡æ¢ä¸»é¢˜
  if (rippleButton.value) {
    await createRipple(rippleButton.value)
  }
  
  // åŒæ—¶åˆ‡æ¢ä¸»é¢˜
  themeStore.toggleTheme()
}

// ç²’å­æ•ˆæœåˆ‡æ¢
const triggerParticleTransition = async () => {
  if (isTransitioning.value) return
  
  console.log('âœ¨ è§¦å‘ç²’å­æ•ˆæœ')
  
  // åˆ›å»ºç²’å­åŠ¨ç”»
  await createParticles()
  
  // åŒæ—¶åˆ‡æ¢ä¸»é¢˜
  themeStore.toggleTheme()
}

// é¢œè‰²æ³¢æµªæ•ˆæœ
const triggerColorWave = async (direction = 'horizontal') => {
  if (isTransitioning.value) return
  
  console.log(`ğŸŒˆ è§¦å‘${direction}æ³¢æµªæ•ˆæœ`)
  
  // åˆ›å»ºé¢œè‰²æ³¢æµª
  createColorWave(direction)
  
  // å»¶è¿Ÿæ›´é•¿æ—¶é—´åˆ‡æ¢ä¸»é¢˜ï¼Œè®©æ³¢æµªæ•ˆæœæ›´æ˜æ˜¾
  setTimeout(() => {
    themeStore.toggleTheme()
  }, 500)
}

// ç»ˆæç»„åˆæ•ˆæœ
const triggerUltimateTransition = async () => {
  if (isTransitioning.value) return
  
  console.log('ğŸ† è§¦å‘ç»ˆæç»„åˆæ•ˆæœ')
  
  try {
    // åŒæ—¶è§¦å‘æ‰€æœ‰æ•ˆæœ
    const effects = []
    
    // æ¶Ÿæ¼ªæ•ˆæœ
    if (ultimateButton.value) {
      effects.push(createRipple(ultimateButton.value))
    }
    
    // ç²’å­æ•ˆæœï¼ˆå»¶è¿Ÿæ›´é•¿ï¼‰
    setTimeout(() => {
      createParticles()
    }, 800)
    
    // é¢œè‰²æ³¢æµªï¼ˆå»¶è¿Ÿæœ€é•¿ï¼‰
    setTimeout(() => {
      createColorWave('horizontal')
    }, 1600)
    
    // åˆ‡æ¢ä¸»é¢˜
    themeStore.toggleTheme()
    
    // ç­‰å¾…æ‰€æœ‰æ•ˆæœå®Œæˆ
    await Promise.all(effects)
    
    console.log('ğŸ† ç»ˆææ•ˆæœå®Œæˆ')
    
  } catch (error) {
    console.error('ç»ˆææ•ˆæœæ‰§è¡Œå‡ºé”™:', error)
  }
}

// é¡µé¢çº§è¿‡æ¸¡åŠ¨ç”»æµ‹è¯•
const triggerPageTransition = () => {
  // æ·»åŠ é¡µé¢çº§åŠ¨ç”»ç±»
  document.documentElement.classList.add('theme-page-transition')
  
  // æ‰¹é‡å¤„ç†æ‰€æœ‰å¡ç‰‡åŠ¨ç”»
  const cards = document.querySelectorAll('.card-elevated')
  cards.forEach((card, index) => {
    setTimeout(() => {
      card.style.transform = 'scale(0.98)'
      card.style.opacity = '0.7'
      
      setTimeout(() => {
        card.style.transform = 'scale(1)'
        card.style.opacity = '1'
      }, 100)
    }, index * 50)
  })
  
  setTimeout(() => {
    document.documentElement.classList.remove('theme-page-transition')
  }, 2500)
}

onMounted(() => {
  console.log('ğŸ¨ ä¸»é¢˜åŠ¨ç”»æ¼”ç¤ºé¡µåŠ è½½å®Œæˆ')
  
  // ç›‘å¬ä¸»é¢˜å˜åŒ–
  themeStore.$subscribe((mutation, state) => {
    console.log('ğŸ”„ ä¸»é¢˜å·²åˆ‡æ¢åˆ°:', state.currentTheme)
  })
})
</script>

<style scoped>
/* é¡µé¢åŸºç¡€æ ·å¼ */
.theme-demo-page {
  @apply min-h-screen bg-white dark:bg-gray-950;
  transition: background-color 300ms ease;
}

.demo-header {
  @apply bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-gray-900 dark:to-gray-800;
}

.demo-section {
  @apply transition-colors duration-300;
}

.container {
  @apply max-w-7xl;
}

/* æ¼”ç¤ºé¡¹ç›®æ ·å¼ */
.demo-item {
  @apply p-8 rounded-2xl bg-white dark:bg-gray-800 shadow-lg;
  @apply border border-gray-200 dark:border-gray-700;
  @apply transition-all duration-300 hover:shadow-xl;
}

.demo-content {
  @apply text-center;
}

/* ä½¿ç”¨åœºæ™¯æ ·å¼ */
.demo-case {
  @apply bg-white dark:bg-gray-800 rounded-2xl p-8;
  @apply border border-gray-200 dark:border-gray-700;
  @apply shadow-lg transition-all duration-300;
}

.mock-navbar {
  @apply flex items-center justify-between p-4 rounded-lg;
  @apply bg-gray-100 dark:bg-gray-700;
  @apply border border-gray-300 dark:border-gray-600;
}

.navbar-brand {
  @apply text-gray-900 dark:text-white;
}

.navbar-controls {
  @apply flex items-center;
}

.mock-settings {
  @apply space-y-4;
}

.setting-item {
  @apply flex items-center justify-between p-6 rounded-lg;
  @apply bg-gray-50 dark:bg-gray-700;
  @apply border border-gray-200 dark:border-gray-600;
}

.setting-info {
  @apply flex-1;
}

.mock-highlight {
  @apply p-12 rounded-xl;
  @apply bg-gradient-to-br from-blue-50 to-indigo-50;
  @apply dark:from-gray-800 dark:to-gray-700;
  @apply border border-gray-200 dark:border-gray-600;
}

/* ç‰¹æ€§å¡ç‰‡æ ·å¼ */
.feature-card {
  @apply text-center p-6 rounded-xl;
  @apply bg-white dark:bg-gray-800;
  @apply border border-gray-200 dark:border-gray-700;
  @apply shadow-md hover:shadow-lg transition-all duration-300;
}

.feature-icon {
  @apply text-4xl mb-4;
}

.feature-title {
  @apply text-lg font-semibold mb-2;
  @apply text-gray-900 dark:text-white;
}

.feature-description {
  @apply text-gray-600 dark:text-gray-400 text-sm;
}

/* Vue è¿‡æ¸¡åŠ¨ç”» */
.title-enter-active,
.subtitle-enter-active {
  transition: all 0.8s cubic-bezier(0.4, 0, 0.2, 1);
}

.title-enter-from {
  opacity: 0;
  transform: translateY(-30px) scale(0.95);
}

.subtitle-enter-from {
  opacity: 0;
  transform: translateY(20px);
}

/* å“åº”å¼è®¾è®¡ */
@media (max-width: 768px) {
  .demo-item {
    @apply p-6;
  }
  
  .demo-case {
    @apply p-6;
  }
  
  .mock-navbar {
    @apply flex-col space-y-4;
  }
  
  .navbar-controls {
    @apply w-full justify-center;
  }
  
  .setting-item {
    @apply flex-col space-y-4 text-center;
  }
  
  .mock-highlight {
    @apply p-8;
  }
  
  .feature-card {
    @apply p-4;
  }
}

/* é«˜çº§åŠ¨ç”»æ•ˆæœæ ·å¼ - å»¶é•¿åŠ¨ç”»æ—¶é—´ */
.theme-page-transition {
  transition: all 2000ms cubic-bezier(0.4, 0, 0.2, 1) !important;
}

.theme-page-transition * {
  transition: all 2000ms cubic-bezier(0.4, 0, 0.2, 1) !important;
}

/* åŠ¨ç”»æŒ‰é’®å¢å¼º */
button:active {
  transform: scale(0.98) !important;
}

/* å¡ç‰‡åŠ¨ç”» - å»¶é•¿åŠ¨ç”»æ—¶é—´ */
.card-elevated {
  transition: all 800ms cubic-bezier(0.4, 0, 0.2, 1);
}

.card-elevated:hover {
  transform: translateY(-4px) scale(1.02);
  box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
}

/* æ¸å˜èƒŒæ™¯åŠ¨ç”» - å»¶é•¿åŠ¨ç”»æ—¶é—´ */
.demo-section {
  background-attachment: fixed;
  transition: background 1500ms ease;
}

/* æŒ‰é’®è„‰å†²åŠ¨ç”»å¢å¼º */
@keyframes enhanced-pulse {
  0%, 100% {
    opacity: 1;
    transform: scale(1);
  }
  50% {
    opacity: 0.8;
    transform: scale(1.05);
  }
}

.animate-pulse {
  animation: enhanced-pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
}

/* é¡µé¢è¿›å…¥åŠ¨ç”» */
@keyframes pageEnter {
  from {
    opacity: 0;
    transform: translateY(20px) scale(0.95);
  }
  to {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

.theme-demo-page {
  animation: pageEnter 800ms cubic-bezier(0.4, 0, 0.2, 1);
}

/* æŒ‰é’®æ‚¬åœå…‰æ™•æ•ˆæœ */
button {
  position: relative;
  overflow: hidden;
}

button::before {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
  transition: left 1200ms;
}

button:hover::before {
  left: 100%;
}

/* æ‰“å°æ ·å¼ */
@media print {
  .demo-header {
    @apply bg-white text-black;
  }
  
  .demo-item,
  .demo-case,
  .feature-card {
    @apply bg-white border border-gray-300 shadow-none;
  }
  
  button {
    display: none;
  }
}
</style>